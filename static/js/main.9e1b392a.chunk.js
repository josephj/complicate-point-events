(this["webpackJsonppoint-events-prototype"]=this["webpackJsonppoint-events-prototype"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,r=n(0),c=n.n(r),i=n(4),a=n.n(i),l=(n(10),n(1)),s=n(2),u=n.n(s),p="background: #369; color: #fff; padding: 2px 5px; width: 100px; border-radius: 4px; display: inline-block",d="background: #c00; color: #fff; padding: 2px 5px; width: 100px; border-radius: 4px; display: inline-block";document.addEventListener("pointercancel",(function(e){console.log("%c".concat(e.type),d,"document pointercancel is triggered!")}));var f=function(e){var t=e.isLandscape,n=Object(r.useRef)(null),i=Object(r.useState)(!1),a=Object(l.a)(i,2),s=a[0],f=a[1],v=Object(r.useState)(null),m=Object(l.a)(v,2),E=m[0],L=m[1],g=Object(r.useState)(null),y=Object(l.a)(g,2),h=y[0],b=y[1];return Object(r.useEffect)((function(){var e=n.current,r=function(e){console.log("%c".concat(e.type),p,"e.pressure = ".concat(e.pressure)),t?L(e.clientX):b(e.clientY);var r=n.current;o=setTimeout((function(){r.closest(".Item ").style.touchAction="none",f(!0),e.type||console.log("%chandlePointerDown",d,"e.type = ",e.type),o=null}),150)},c=function(e){if(o)clearTimeout(o),console.log("%c".concat(e.type),p,"Failed to long press");else{var t=n.current;t.style.touchAction="",t.closest(".Item ").style.touchAction="",console.log("%c".concat(e.type),p,"Long pressed successfully")}f(!1)},i=function(n){if(s){var o=e.parentNode,r=t?o.offsetWidth-e.offsetWidth-8:o.offsetHeight-e.offsetHeight-8,c=t?E-n.clientX:h-n.clientY,i=t?e.offsetLeft:e.offsetTop,a=Math.min(Math.max(0,i-c),r);t?(e.style.left="".concat(a,"px"),L(n.clientX)):(e.style.top="".concat(a,"px"),b(n.clientY)),console.log("%c".concat(n.type),p,"position",a)}},a=function(e){console.log("%c".concat(e.type),p)},l=function(e){console.log("%c".concat(e.type),p)},u=function(e){console.log("%c".concat(e.type),p)},v=function(e){console.log("%c".concat(e.type),p)},m=function(e){console.log("%c".concat(e.type),p),o&&clearTimeout(o),t?L(null):b(null),f(!1)};return e.addEventListener("pointerdown",r),e.addEventListener("pointerup",c),e.addEventListener("pointermove",i),e.addEventListener("pointercancel",m),e.addEventListener("pointerout",a),e.addEventListener("pointerleave",l),e.addEventListener("gotpointercapture",u),e.addEventListener("lostpointercapture",v),function(){e.removeEventListener("pointerdown",r),e.removeEventListener("pointerup",c),e.removeEventListener("pointermove",i),e.removeEventListener("pointercancel",m),e.removeEventListener("pointerout",a),e.removeEventListener("pointerleave",l),e.removeEventListener("gotpointercapture",u),e.removeEventListener("lostpointercapture",v)}}),[s,E,h,t]),c.a.createElement("span",{ref:n,className:u()("Crop",{"Crop-portrait":!t,"Crop-landscape":t,"Crop--moving":s}),onContextMenu:function(e){return e.preventDefault()}})},v=function(e){var t=e.id,n=Object(r.useRef)(Math.random()>.4),o=Object(r.useRef)(Math.random()>=.5),i=Object(r.useRef)(null),a=Object(r.useState)(!1),s=Object(l.a)(a,2),p=s[0],d=s[1];return Object(r.useEffect)((function(){var e=i.current,t=!1,o=null,r=function(e){o=[e.clientX,e.clientY],t=!0},c=function(e){if(t){if(n)if(Math.abs(e.clientX-o[0])+Math.abs(e.clientY-o[1])>0)return;d(!p)}},a=function(){t=!1,o=null};return e.addEventListener("pointerdown",r),e.addEventListener("pointerup",c),e.addEventListener("pointerleave",a),e.addEventListener("pointerout",a),e.addEventListener("pointercancel",a),function(){e.removeEventListener("pointerdown",r),e.removeEventListener("pointerup",c),e.removeEventListener("pointerleave",a),e.removeEventListener("pointerout",a),e.removeEventListener("pointercancel",a)}}),[p]),c.a.createElement("li",{ref:i,className:u()("Item",{"Item--selected":p}),onContextMenu:function(e){return e.preventDefault()}},n.current&&c.a.createElement(f,{key:"Crop-".concat(t),id:t,isLandscape:o.current}),c.a.createElement("span",{className:"Label"},"#",t+1))};n(11),n(12);var m=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"Pointer Events"),c.a.createElement("p",null,"Scrolling, Item Selection, and Crop Moving (150ms)"),c.a.createElement("ul",null,Array.from(Array(50)).map((function(e,t){return c.a.createElement(v,{key:"Item-".concat(t),id:t})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.9e1b392a.chunk.js.map