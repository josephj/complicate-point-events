(this["webpackJsonppoint-events-prototype"]=this["webpackJsonppoint-events-prototype"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,c=n(0),r=n.n(c),a=n(4),i=n.n(a),s=(n(10),n(1)),l=n(2),u=n.n(l),d="background: #369; color: #fff; padding: 2px 5px; width: 100px; border-radius: 4px; display: inline-block",p="background: #c00; color: #fff; padding: 2px 5px; width: 100px; border-radius: 4px; display: inline-block";document.addEventListener("pointercancel",(function(e){console.log("%c".concat(e.type),p,"document pointercancel is triggered!")}));var v=function(e){var t=e.isLandscape,n=Object(c.useRef)(null),a=Object(c.useState)(!1),i=Object(s.a)(a,2),l=i[0],v=i[1],f=Object(c.useState)(null),m=Object(s.a)(f,2),E=m[0],h=m[1],L=Object(c.useState)(null),b=Object(s.a)(L,2),g=b[0],y=b[1];return Object(c.useEffect)((function(){var e=n.current,c=e.closest(".App"),r=function(e){var n=e.type,r=e.clientX,a=e.clientY,i=e.touches,s=void 0===i?[]:i;console.log("%c".concat(n),d),r=r||s[0].clientX,a=a||s[0].clientY,t?h(r):y(a),o=setTimeout((function(){v(!0),c.style.touchAction="none",o=null}),300)},a=function(e){var t=e.type;o?(clearTimeout(o),console.log("%c".concat(t),d,"Failed to long press")):console.log("%c".concat(t),d,"Long pressed successfully"),c.style.touchAction="",v(!1)},i=function(n){var o=n.type,c=n.clientX,r=n.clientY,a=n.touches,i=void 0===a?[]:a;if(c=c||i[0].clientX,r=r||i[0].clientY,l){n.preventDefault();var s=e.parentNode,u=t?s.offsetWidth-e.offsetWidth-8:s.offsetHeight-e.offsetHeight-8,p=t?E-c:g-r,v=t?e.offsetLeft:e.offsetTop,f=Math.min(Math.max(0,v-p),u);t?(e.style.left="".concat(f,"px"),h(c)):(e.style.top="".concat(f,"px"),y(r)),console.log("%c".concat(o),d,"movement",f)}},s=function(e){console.log("%c".concat(e.type),p,e.target.className),o&&clearTimeout(o),t?h(null):y(null),c.style.touchAction="",v(!1)};return e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchend",a),e.addEventListener("touchmove",i),e.addEventListener("touchcancel",s),e.addEventListener("mousedown",r),e.addEventListener("mouseup",a),e.addEventListener("mousemove",i),function(){e.removeEventListener("touchstart",r),e.removeEventListener("touchend",a),e.removeEventListener("touchmove",i),e.removeEventListener("touchcancel",s),e.removeEventListener("mousedown",r),e.removeEventListener("mouseup",a),e.removeEventListener("mousemove",i)}}),[l,E,g,t]),r.a.createElement("span",{ref:n,className:u()("Crop",{"Crop-portrait":!t,"Crop-landscape":t,"Crop--moving":l}),onContextMenu:function(e){return e.preventDefault()}})},f=function(e){var t=e.id,n=Object(c.useRef)(Math.random()>.4),o=Object(c.useRef)(Math.random()>=.5),a=Object(c.useRef)(null),i=Object(c.useState)(!1),l=Object(s.a)(i,2),d=l[0],p=l[1];return Object(c.useEffect)((function(){var e=a.current,t=!1,o=null,c=function(e){o=[e.clientX,e.clientY],t=!0},r=function(e){if(t){if(n)if(Math.abs(e.clientX-o[0])+Math.abs(e.clientY-o[1])>0)return;p(!d)}},i=function(){t=!1,o=null};return e.addEventListener("pointerdown",c),e.addEventListener("pointerup",r),e.addEventListener("pointerleave",i),e.addEventListener("pointerout",i),e.addEventListener("pointercancel",i),function(){e.removeEventListener("pointerdown",c),e.removeEventListener("pointerup",r),e.removeEventListener("pointerleave",i),e.removeEventListener("pointerout",i),e.removeEventListener("pointercancel",i)}}),[d]),r.a.createElement("li",{ref:a,className:u()("Item",{"Item--selected":d}),onContextMenu:function(e){return e.preventDefault()}},n.current&&r.a.createElement(v,{key:"Crop-".concat(t),id:t,isLandscape:o.current}),r.a.createElement("span",{className:"Label"},"#",t+1))};n(11);var m=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Pointer Events"),r.a.createElement("p",null,"Scrolling, Item Selection, and Crop Moving (150ms)"),r.a.createElement("ul",null,Array.from(Array(50)).map((function(e,t){return r.a.createElement(f,{key:"Item-".concat(t),id:t})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.64ce450b.chunk.js.map